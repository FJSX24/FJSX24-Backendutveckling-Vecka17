ğŸ§­ Workshop â€“ Torsdag v.17

ğŸ“† Datum: 2025-04-24
ğŸ•˜ Tid: 09.00â€“15.00
ğŸ“ Plats: Ordinarie schema
ğŸ¯ Tema: SwaggerHub, Mockdriven utveckling & backendintegration via async/await

-----------------------------
âœ¨ Syfte

Att trÃ¤na pÃ¥ mockdriven utveckling (MDD) genom att arbeta frÃ¥n dokumentation i SwaggerHub mot mock-server och koppla detta till en backend i Express. Frontend anvÃ¤nds enbart som verktyg fÃ¶r att testa och verifiera att backend fÃ¶ljer dokumentationen. Fokus ligger pÃ¥ API-design, dokumentation, async/await och utveckling med kontrakt i centrum.

-----------------------------
ğŸ¯ LÃ¤randemÃ¥l

K6: Beskriva hur asynkron programmering anvÃ¤nds fÃ¶r att hantera API-fÃ¶rfrÃ¥gningar och databasanrop.

F4: UtfÃ¶ra asynkrona operationer fÃ¶r att hantera API-fÃ¶rfrÃ¥gningar.

-----------------------------
ğŸ§  Agenda

09.00â€“09.20	ğŸ“ Intro & mÃ¥l	Vad innebÃ¤r Mock-Driven Development? Hur kopplar vi frontend till mock-API?

09.20â€“10.30	ğŸ’» Workshopdel 1	Ladda upp swagger.yaml till SwaggerHub, aktivera mock-server, testa med fetch & Postman

10.30â€“10.45	â˜• Paus	â€“

10.45â€“12.00	ğŸ’» Workshopdel 2	Skapa en frontend som hÃ¤mtar mockdata frÃ¥n SwaggerHub via async/await

12.00â€“13.00	ğŸ Lunchpaus	â€“

13.00â€“14.15	ğŸ’» Workshopdel 3	Implementera backend i Express utifrÃ¥n Swagger-spec (Mock â†’ Backend)

14.15â€“15.00	ğŸ” Demo & Reflektion	Visa: Swagger â†’ Mock â†’ Frontend â†’ Backend. Diskutera vad som var svÃ¥rt & vad som funkade

-----------------------------
ğŸ“š PowerPoint & Talarmanus

Slide 1: Vad Ã¤r Mockdriven utveckling (MDD)?

ğŸ—£ï¸ "Vi bÃ¶rjar idag inte med koden â€“ vi bÃ¶rjar med dokumentationen. SwaggerHub ger oss en mockserver vi kan anropa direkt â€“ Ã¤ven om backend inte Ã¤r klar Ã¤n."

-----------------------------
Slide 2: SwaggerHub mockserver â€“ vad den Ã¤r och hur vi anvÃ¤nder den

ğŸ—£ï¸ "SwaggerHub genererar en virtuell server Ã¥t oss utifrÃ¥n vÃ¥r swagger.yaml. Vi kan anropa den som om vi hade ett riktigt backend."

-----------------------------
Slide 3: FrÃ¥n dokumentation till backend

ğŸ—£ï¸ "NÃ¤r frontend fungerar mot mockservern vet vi att vÃ¥rt API Ã¤r tydligt definierat. DÃ¥ kan vi bygga backend exakt enligt dokumentationen."

-----------------------------
-----------------------------
-----------------------------
ğŸ’» Code-Along â€“ FrÃ¥n Swagger i Express â†’ SwaggerHub â†’ Mock â†’ Frontend

HÃ¤r Ã¤r hur du kan bygga upp torsdagens code-along som en bro mellan Swagger i lokal utveckling (Swagger UI + swagger-jsdoc) och SwaggerHub (mockdriven utveckling + publicering):

ğŸŸ¨ Bakgrund:

FÃ¶rra veckan dokumenterade ni ert lokala Express-API med Swagger-kommentarer och visade det med Swagger UI.
Idag tar vi det vidare genom att publicera det i SwaggerHub och koppla pÃ¥ mock-servern â€“ fÃ¶r att sedan verifiera dokumentationen med ett riktigt fetch()-anrop frÃ¥n frontend.

ğŸ“ Projektstruktur:
swagger-to-swaggerhub/
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ user.js          # InnehÃ¥ller dina Swagger-kommenterade routes
â”œâ”€â”€ swagger/
â”‚   â””â”€â”€ swagger-export.yaml # Exporterad version till SwaggerHub
â”œâ”€â”€ index.js               # Express-server med Swagger UI
â”œâ”€â”€ package.json
â””â”€â”€ public/
    â””â”€â”€ index.html         # Frontend fÃ¶r att testa mock-anrop
    â””â”€â”€ script.js


-----------------------------
Del 1 â€“ Ã…teranvÃ¤nd din tidigare kod frÃ¥n Swagger i Express

âœ… Steg 1: LÃ¤gg in Swagger-konfigurationen i index.js

GenomfÃ¶r den koden

-----------------------------
âœ… Steg 2: Kontrollera dina @swagger-kommentarer i routesCA/userCA.js

GenomfÃ¶r den koden

-----------------------------
ğŸ’¾ Exportera swagger.yaml

GÃ¥ till din lokala Swagger UI:
â†’ http://localhost:8080/api-docs

Klicka pÃ¥ "Raw" eller "Export" lÃ¤ngst upp i Swagger-grÃ¤nssnittet.
(Du kan ocksÃ¥ hÃ¶gerklicka och "Visa sidkÃ¤lla", kopiera hela JSON:en)

GÃ¥ till https://editor.swagger.io/

VÃ¤lj "Convert to YAML" om du har JSON

VÃ¤lj File > Save as YAML

Spara som swagger/swagger-export.yaml i ditt projekt.

-----------------------------
ğŸŒ Importera swagger.yaml till SwaggerHub

GÃ¥ till https://app.swaggerhub.com

Logga in eller skapa ett gratiskonto

Klicka pÃ¥ Create New > API

Fyll i:

Name: my-exported-api

Version: 1.0.0

Format: YAML

Base: OpenAPI 3.0

Klicka pÃ¥ Import file â†’ vÃ¤lj din swagger-export.yaml

Spara â†’ SwaggerHub laddar din dokumentation och visar en mock URL uppe till hÃ¶ger, t.ex.:
https://virtserver.swaggerhub.com/dittnamn/my-exported-api/1.0.0/api/users

-----------------------------
ğŸ§ª Testa att allt fungerar

âœ… I Postman:
Skicka GET till din mock-URL (t.ex. /api/users)

Du bÃ¶r fÃ¥ en dummy-respons (SwaggerHub genererar mockdata automatiskt)

âœ… I frontend (public/script.js)

GenomfÃ¶r den koden

index.html

GenomfÃ¶r den koden

Ã–ppna filen i webblÃ¤saren (t.ex. via Live Server) â€“ klicka pÃ¥ knappen, och se datan laddas frÃ¥n SwaggerHub-mockservern!

-----------------------------
-----------------------------
-----------------------------
Dags fÃ¶r Ã¶vningar

-----------------------------
-----------------------------
-----------------------------
ğŸ” Gruppdiskussion 

Vad lÃ¤rde ni er om API-design genom att bÃ¶rja med mock?

KÃ¤nde ni att er dokumentation var tillrÃ¤cklig?

Vad var enklast? Vad var klurigast?

Hur hade ni gjort i ett riktigt team med frontend/backend?

